<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Share Boost</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <div class="particles-background" id="particles-js"></div>
        
        <div class="main-card glass-card">
            <div class="header">
                <h1 class="title gradient-text">AJ-SHARE BOOST</h1>
                <div class="description">
                    <p>A user-friendly automated website that utilizes your browser's cookies to streamline the process of sharing posts on Facebook using the provided URL.</p>
                </div>
            </div>

            <div class="form-container glass-card">
                <form onsubmit="submitForm(event)" class="share-form">
                    <div class="form-group floating-input">
                        <input type="text" id="cookies" name="cookie" required>
                        <label for="cookies">APPSTATE</label>
                        <div class="icon"><i class="fas fa-key"></i></div>
                    </div>
                    
                    <div class="form-group floating-input">
                        <input type="text" id="urls" name="url" required>
                        <label for="urls">LINK</label>
                        <div class="icon"><i class="fas fa-link"></i></div>
                    </div>
                    
                    <div class="form-group floating-input">
                        <input type="text" id="amounts" name="amount" required>
                        <label for="amounts">LIMIT</label>
                        <div class="icon"><i class="fas fa-bullseye"></i></div>
                    </div>
                    
                    <div class="form-group floating-input">
                        <input type="text" id="intervals" name="interval" placeholder="" pattern="[0-9]*" required>
                        <label for="intervals">DELAY (ms)</label>
                        <div class="icon"><i class="fas fa-clock"></i></div>
                    </div>
                    
                    <button type="submit" onclick="submitForm()" id="submit-button" class="submit-btn">
                        <span class="btn-text">BOOST NOW</span>
                        <div class="btn-loader">
                            <div class="loader-dot"></div>
                            <div class="loader-dot"></div>
                            <div class="loader-dot"></div>
                        </div>
                    </button>
                    
                    <div id="result" class="result-message"></div>
                </form>
            </div>
        </div>

        <div class="status-card glass-card" id="process-container">
            <h2 class="gradient-text">SHARE BOOST</h2>
            <h3>PROCESSING:</h3>
            <div id="processing" class="process-list"></div>
        </div>

        <div class="relax-card glass-card">
            <h2 class="gradient-text">RELAX KA MUNA</h2>
            <div class="video-container">
                <video controls class="glow-video">
                    <source src="https://i.imgur.com/5pb4eJR.mp4" type="video/mp4">
                </video>
            </div>
        </div>
    </div>

    <style>
        :root {
            --primary: #6e45e2;
            --secondary: #88d3ce;
            --dark: #0f0f1a;
            --light: #f5f6fa;
            --success: #4ade80;
            --error: #f87171;
            --warning: #fbbf24;
            --glass: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #0f0f1a, #1a1a2e);
            color: var(--light);
            min-height: 100vh;
            overflow-x: hidden;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .app-container {
            width: 100%;
            max-width: 1200px;
            position: relative;
            z-index: 1;
        }

        .particles-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: linear-gradient(135deg, #0f0f1a 0%, #1a1a2e 100%);
        }

        .glass-card {
            background: var(--glass);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 15px;
            border: 1px solid var(--glass-border);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            padding: 25px;
            margin-bottom: 25px;
            transition: all 0.3s ease;
        }

        .glass-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3);
        }

        .main-card {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .header {
            text-align: center;
            padding-bottom: 15px;
        }

        .title {
            font-size: 2.5rem;
            margin-bottom: 10px;
            letter-spacing: 1px;
        }

        .gradient-text {
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: inline-block;
        }

        .description p {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.6;
        }

        .form-container {
            width: 100%;
        }

        .share-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-group {
            position: relative;
            width: 100%;
        }

        .floating-input {
            position: relative;
        }

        .floating-input input {
            width: 100%;
            padding: 15px 15px 15px 45px;
            font-size: 1rem;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            color: white;
            transition: all 0.3s ease;
        }

        .floating-input input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(110, 69, 226, 0.3);
        }

        .floating-input input:focus + label,
        .floating-input input:not(:placeholder-shown) + label {
            transform: translateY(-25px) translateX(-15px) scale(0.85);
            background: var(--dark);
            padding: 0 5px;
            color: var(--primary);
        }

        .floating-input label {
            position: absolute;
            left: 45px;
            top: 15px;
            color: rgba(255, 255, 255, 0.7);
            pointer-events: none;
            transition: all 0.3s ease;
        }

        .icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: rgba(255, 255, 255, 0.7);
        }

        .submit-btn {
            position: relative;
            padding: 15px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            overflow: hidden;
            transition: all 0.3s ease;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 50px;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(110, 69, 226, 0.4);
        }

        .submit-btn:active {
            transform: translateY(0);
        }

        .btn-text {
            transition: all 0.3s ease;
        }

        .btn-loader {
            position: absolute;
            display: none;
            gap: 5px;
        }

        .loader-dot {
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            animation: loader-bounce 0.8s infinite ease-in-out;
        }

        .loader-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .loader-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes loader-bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-8px); }
        }

        .submit-btn.loading .btn-text {
            opacity: 0;
        }

        .submit-btn.loading .btn-loader {
            display: flex;
        }

        .result-message {
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-weight: 500;
            display: none;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .status-card {
            display: block;
        }

        .status-card h2 {
            margin-bottom: 10px;
        }

        .status-card h3 {
            color: rgba(255, 255, 255, 0.7);
            font-weight: 400;
            margin-bottom: 15px;
        }

        .process-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .current-online {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 12px 15px;
            font-size: 0.9rem;
            border-left: 3px solid var(--primary);
            transition: all 0.3s ease;
        }

        .current-online:hover {
            transform: translateX(5px);
        }

        .current-online h4 {
            color: white;
            font-weight: 500;
        }

        .relax-card {
            text-align: center;
        }

        .relax-card h2 {
            margin-bottom: 15px;
        }

        .video-container {
            display: flex;
            justify-content: center;
        }

        .glow-video {
            border-radius: 10px;
            max-width: 100%;
            height: auto;
            box-shadow: 0 0 20px rgba(110, 69, 226, 0.5);
            transition: all 0.3s ease;
        }

        .glow-video:hover {
            box-shadow: 0 0 30px rgba(110, 69, 226, 0.8);
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .title {
                font-size: 2rem;
            }
            
            .glass-card {
                padding: 20px;
            }
            
            .floating-input input {
                padding: 12px 12px 12px 40px;
            }
        }

        /* Animations */
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* Particle.js customization */
        canvas {
            display: block;
            vertical-align: bottom;
        }
    </style>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
        // Initialize particles.js
        document.addEventListener('DOMContentLoaded', function() {
            particlesJS('particles-js', {
                "particles": {
                    "number": {
                        "value": 80,
                        "density": {
                            "enable": true,
                            "value_area": 800
                        }
                    },
                    "color": {
                        "value": "#6e45e2"
                    },
                    "shape": {
                        "type": "circle",
                        "stroke": {
                            "width": 0,
                            "color": "#000000"
                        },
                        "polygon": {
                            "nb_sides": 5
                        }
                    },
                    "opacity": {
                        "value": 0.5,
                        "random": false,
                        "anim": {
                            "enable": false,
                            "speed": 1,
                            "opacity_min": 0.1,
                            "sync": false
                        }
                    },
                    "size": {
                        "value": 3,
                        "random": true,
                        "anim": {
                            "enable": false,
                            "speed": 40,
                            "size_min": 0.1,
                            "sync": false
                        }
                    },
                    "line_linked": {
                        "enable": true,
                        "distance": 150,
                        "color": "#6e45e2",
                        "opacity": 0.4,
                        "width": 1
                    },
                    "move": {
                        "enable": true,
                        "speed": 2,
                        "direction": "none",
                        "random": false,
                        "straight": false,
                        "out_mode": "out",
                        "bounce": false,
                        "attract": {
                            "enable": false,
                            "rotateX": 600,
                            "rotateY": 1200
                        }
                    }
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": {
                        "onhover": {
                            "enable": true,
                            "mode": "grab"
                        },
                        "onclick": {
                            "enable": true,
                            "mode": "push"
                        },
                        "resize": true
                    },
                    "modes": {
                        "grab": {
                            "distance": 140,
                            "line_linked": {
                                "opacity": 1
                            }
                        },
                        "bubble": {
                            "distance": 400,
                            "size": 40,
                            "duration": 2,
                            "opacity": 8,
                            "speed": 3
                        },
                        "repulse": {
                            "distance": 200,
                            "duration": 0.4
                        },
                        "push": {
                            "particles_nb": 4
                        },
                        "remove": {
                            "particles_nb": 2
                        }
                    }
                },
                "retina_detect": true
            });
        });

        async function submitForm() {
            event.preventDefault();
            const result = document.getElementById('result');
            const button = document.getElementById('submit-button');
            
            try {
                result.style.display = 'none';
                button.classList.add('loading');
                
                const response = await fetch('/api/submit', {
                    method: 'POST',
                    body: JSON.stringify({
                        cookie: document.getElementById('cookies').value,
                        url: document.getElementById('urls').value,
                        amount: document.getElementById('amounts').value,
                        interval: document.getElementById('intervals').value,
                    }),
                    headers: {
                        'Content-Type': 'application/json',
                    },
                });
                const data = await response.json();
            
                if (data.status === 200) {
                    result.style.backgroundColor = 'rgba(74, 222, 128, 0.2)';
                    result.style.border = '1px solid rgba(74, 222, 128, 0.5)';
                    result.style.color = 'white';
                    result.innerHTML = 'Submitted successfully!';
                    result.style.display = 'block';
                    button.classList.remove('loading');
                    
                    // Refresh processing list
                    document.getElementById('processing').innerHTML = '';
                    linkOfProcessing();
                } else {
                    result.style.backgroundColor = 'rgba(248, 113, 113, 0.2)';
                    result.style.border = '1px solid rgba(248, 113, 113, 0.5)';
                    result.style.color = 'white';
                    result.innerHTML = 'Error: ' + data.error;
                    result.style.display = 'block';
                    button.classList.remove('loading');
                }
            } catch (e) {
                console.error(e);
                result.style.backgroundColor = 'rgba(248, 113, 113, 0.2)';
                result.style.border = '1px solid rgba(248, 113, 113, 0.5)';
                result.style.color = 'white';
                result.innerHTML = 'Network error occurred';
                result.style.display = 'block';
                button.classList.remove('loading');
            }
        }
        
        async function linkOfProcessing() {
            try {
                const container = document.getElementById('processing');
                const processContainer = document.getElementById('process-container');
                const initialResponse = await fetch('/total');
            
                if (!initialResponse.ok) {
                    throw new Error(`Failed to fetch: ${initialResponse.status} - ${initialResponse.statusText}`);
                }
            
                const initialData = await initialResponse.json();
                if (initialData.length === 0) {
                    processContainer.style.display = 'none';
                    return;
                }
                
                processContainer.style.display = 'block';
                initialData.forEach((link, index) => {
                    let { url, count, id, target, session } = link;
                    const processCard = document.createElement('div');
                    processCard.classList.add('current-online');
            
                    const text = document.createElement('h4');
                    text.classList.add('count-text');
                    text.innerHTML = `${index + 1}. ID: ${id} | ${count}/${target}`;
            
                    processCard.appendChild(text);
                    container.appendChild(processCard);
            
                    const intervalId = setInterval(async () => {
                        const updateResponse = await fetch('/total');
            
                        if (!updateResponse.ok) {
                            console.error(`Failed to fetch update: ${updateResponse.status} - ${updateResponse.statusText}`);
                            return
